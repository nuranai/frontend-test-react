{"version":3,"sources":["App.js","index.js"],"names":["Table","props","useState","dataCurrent","data","setData","filter","setFilter","key","direction","sortConfig","setSortConfig","classSetter","name","undefined","requestSort","useEffect","sortedProducts","sort","a","b","sortBy","onClick","className","d","fName","toUpperCase","indexOf","sName","map","index","id","App","pageCount","setPageCount","filterText","setFilterText","start","end","pageIndexes","setPageIndexes","fetch","res","json","length","getData","type","onChange","e","target","value","placeholder","slice","previousLabel","nextLabel","breakLabel","pageRangeDisplayed","marginPagesDisplayed","onPageChange","elementStart","selected","containerClassName","pageLinkClassName","activeLinkClassName","nextLinkClassName","previousLinkClassName","breakLinkClassName","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a0825258.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactPaginate from 'react-paginate';\nimport './App.css';\n\nfunction Table(props) {\n\t//data отвечает за хранение текущих 50-ти данных\n\tconst [data, setData] = useState([...props.dataCurrent]);\n\t//filter хранит строку по которой пройдет фильтрация\n\tconst [filter, setFilter] = useState('');\n\t//sortConfig объект в который задает направление сортировки и ключ по которому будет идти сорртировка\n\tconst [sortConfig, setSortConfig] = useState({ key: null, direction: null });\n\n\t//обновляем переменные при новом рендере\n\tuseEffect(() => {\n\t\tsetData(props.dataCurrent);\n\t\tsetSortConfig({ key: null, direction: null });\n\t\tsetFilter(props.filter);\n\t}, [props.dataCurrent, props.filter]);\n\n\t//установка класса в зависимости от текущего sortConfig\n\tfunction classSetter(name) {\n\t\tif (!sortConfig) {\n\t\t\treturn;\n\t\t}\n\t\treturn sortConfig.key === name ? sortConfig.direction : undefined;\n\t}\n\n\t//задание нового sortConfig для сортировки\n\tfunction requestSort(key) {\n\t\tlet direction = 'ascending';\n\t\tif (sortConfig.key === key && sortConfig.direction === 'ascending') {\n\t\t\tdirection = 'descending';\n\t\t}\n\t\tsetSortConfig({ key, direction });\n\t}\n\n\t//при обновлении sortConfig вызываем функцию сортировки\n\tuseEffect(() => {\n\t\tsortBy();\n\t}, [sortConfig]);\n\n\t//функция сортировки\n\tfunction sortBy() {\n\t\t//создаем копию массива\n\t\tlet sortedProducts = [...data];\n\t\t//сортировка в зависимости от направлния\n\t\tsortedProducts.sort((a, b) => {\n\t\t\tif (a[sortConfig.key] < b[sortConfig.key]) return sortConfig.direction === 'ascending' ? -1 : 1;\n\t\t\tif (a[sortConfig.key] > b[sortConfig.key]) return sortConfig.direction === 'ascending' ? 1 : -1;\n\t\t\treturn 0;\n\t\t});\n\t\tsetData(sortedProducts);\n\t}\n\n\treturn (\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th\n\t\t\t\t\t\tonClick={() => requestSort('index')}\n\t\t\t\t\t\tclassName={classSetter('index')}\n\t\t\t\t\t>id</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tonClick={() => requestSort('fName')}\n\t\t\t\t\t\tclassName={classSetter('fName')}\n\t\t\t\t\t>First name</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tonClick={() => requestSort('sName')}\n\t\t\t\t\t\tclassName={classSetter('sName')}\n\t\t\t\t\t>Sur name</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{\n\t\t\t\t\t//сначала идет фильтрация массива, затем сортировка по нужному столбцу\n\t\t\t\t\tdata\n\t\t\t\t\t\t.filter((d) =>\n\t\t\t\t\t\t\td.fName.toUpperCase().indexOf(filter.toUpperCase()) !== -1 || d.sName.toUpperCase().indexOf(filter.toUpperCase()) !== -1\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.map((d) => (\n\n\t\t\t\t\t\t\t<tr key={d.id} >\n\t\t\t\t\t\t\t\t<td>{d.index + 1}</td>\n\t\t\t\t\t\t\t\t<td>{d.fName}</td>\n\t\t\t\t\t\t\t\t<td>{d.sName}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</tbody>\n\t\t</table>);\n}\n\nfunction App() {\n\t//data хранит массив из 1000 объектов\n\tconst [data, setData] = useState([]);\n\t//pageСount количество страниц для пагинации\n\tconst [pageCount, setPageCount] = useState(0);\n\t//filterText хранит строку которую вводит пользователь для фильтрации\n\tconst [filterText, setFilterText] = useState('');\n\t//количество элементов за страницу\n\tconst perPage = 50;\n\t//pageIndexes опрделяют начало и конец отрезка массива data, для передачи в компонент Table\n\tconst [pageIndexes, setPageIndexes] = useState({ start: 0, end: perPage });\n\n\t// при прогрузке загрузить жсон url\n\tuseEffect(() => {\n\t\tasync function getData() {\n\t\t\tlet res = await fetch('https://next.json-generator.com/api/json/get/Ek5OUQ3M5');\n\t\t\tlet json = await res.json();\n\t\t\tsetData(json);\n\t\t\tsetPageCount(json.length / 50);\n\t\t}\n\t\tgetData();\n\t}, []);\n\n\t//при изменении страницы обновить начало и конец отрезка\n\tfunction handlePageChange(e) {\n\t\t//e.selected возвращает выбранную страницу\n\t\tlet elementStart = e.selected * perPage;\n\t\tsetPageIndexes({ start: elementStart, end: elementStart + perPage });\n\t}\n\n\tfunction filterTable(e) {\n\t\tsetFilterText(e.target.value);\n\t}\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{\n\t\t\t\tdata.length\n\t\t\t\t\t? (<><input type=\"text\" onChange={filterTable} placeholder=\"Filter...\" />\n\t\t\t\t\t\t<Table dataCurrent={data.slice(pageIndexes.start, pageIndexes.end)} filter={filterText}></Table>\n\t\t\t\t\t\t<ReactPaginate\n\t\t\t\t\t\t\tpreviousLabel={\"<<\"}\n\t\t\t\t\t\t\tnextLabel={\">>\"}\n\t\t\t\t\t\t\tbreakLabel={\"...\"}\n\t\t\t\t\t\t\tpageCount={pageCount}\n\t\t\t\t\t\t\tpageRangeDisplayed={3}\n\t\t\t\t\t\t\tmarginPagesDisplayed={2}\n\t\t\t\t\t\t\tonPageChange={handlePageChange}\n\t\t\t\t\t\t\tcontainerClassName={'pagination__container'}\n\t\t\t\t\t\t\tpageLinkClassName={'pagination__page'}\n\t\t\t\t\t\t\tactiveLinkClassName={'pagination__active'}\n\t\t\t\t\t\t\tnextLinkClassName={'pagination__page pagination__button'}\n\t\t\t\t\t\t\tpreviousLinkClassName={'pagination__page pagination__button'}\n\t\t\t\t\t\t\tbreakLinkClassName={'pagination__page'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>)\n\t\t\t\t\t: (<div className=\"loading\">\n\t\t\t\t\t\t<div className=\"loading__wrapper\">\n\t\t\t\t\t\t\t<p className=\"loading__name\">Loading...</p>\n\t\t\t\t\t\t\t<div className=\"lds-dual-ring\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}